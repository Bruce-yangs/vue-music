{"version":3,"sources":["webpack:///static/js/7.935420b771107e928160.js","webpack:///./src/components/search/search.vue?ee9f","webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?6b7e","webpack:///./src/components/search/search.vue","webpack:///./src/components/search/search.vue?110c"],"names":["webpackJsonp","7Hoo","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","on","query","onQueryChange","_v","directives","name","rawName","value","expression","attrs","refreshDelay","data","shortcut","_l","item","click","$event","addQuery","k","_s","searchHistory","showConfirm","searches","select","delete","deleteSearchHistory","saveSearch","listScroll","blurInput","text","confirmBtnText","confirm","clearSearchHistory","staticRenderFns","esExports","MMCQ","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_base_search_box_search_box__","__WEBPACK_IMPORTED_MODULE_2_base_search_list_search_list__","__WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__","__WEBPACK_IMPORTED_MODULE_4_base_confirm_confirm__","__WEBPACK_IMPORTED_MODULE_5_api_search__","__WEBPACK_IMPORTED_MODULE_7_components_suggest_suggest__","__WEBPACK_IMPORTED_MODULE_8_common_js_mixin__","__WEBPACK_IMPORTED_MODULE_9_vuex__","mixins","hotKey","components","SearchBox","Suggest","SearchList","Confirm","Scroll","created","_getHotKey","methods","handlePlaylist","playlist","bottom","length","$refs","shortcutWrapper","style","refresh","searchResult","suggest","_this","Object","then","res","hotkey","slice","console","log","show","computed","concat","watch","newQuery","_this2","setTimeout","N5wH","exports","content","i","locals","YOyO","injectStyle","ssrContext","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_search_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_d124f9d2_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_search_vue__","normalizeComponent","__vue_styles__","Component","YU0n","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/7.935420b771107e928160.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"7Hoo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box-wrapper\"},[_c('search-box',{ref:\"searchBox\",on:{\"query\":_vm.onQueryChange}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"shortcutWrapper\",staticClass:\"shortcut-wrapper\"},[_c('scroll',{ref:\"shortcut\",staticClass:\"shortcut\",attrs:{\"refreshDelay\":_vm.refreshDelay,\"data\":_vm.shortcut}},[_c('div',[_c('div',{staticClass:\"hot-key\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotKey),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){return _vm.addQuery(item.k)}}},[_c('span',[_vm._v(_vm._s(item.k))])])}),0)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"search-history\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-clear\"})])]),_vm._v(\" \"),_c('search-list',{attrs:{\"searches\":_vm.searchHistory},on:{\"select\":_vm.addQuery,\"delete\":_vm.deleteSearchHistory}})],1)])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],ref:\"searchResult\",staticClass:\"search-result\"},[_c('suggest',{ref:\"suggest\",attrs:{\"query\":_vm.query},on:{\"select\":_vm.saveSearch,\"listScroll\":_vm.blurInput}})],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"是否清空所有搜索历史\",\"confirmBtnText\":\"清空\"},on:{\"confirm\":_vm.clearSearchHistory}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"MMCQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"B2YR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_search_box_search_box__ = __webpack_require__(\"2X+S\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_base_search_list_search_list__ = __webpack_require__(\"vhoT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__ = __webpack_require__(\"qwAB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_base_confirm_confirm__ = __webpack_require__(\"XEAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_api_search__ = __webpack_require__(\"8stH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_api_config__ = __webpack_require__(\"T452\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_components_suggest_suggest__ = __webpack_require__(\"6Xyt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_common_js_mixin__ = __webpack_require__(\"F4+m\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vuex__ = __webpack_require__(\"ZWpU\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_8_common_js_mixin__[\"b\" /* playlistMixin */], __WEBPACK_IMPORTED_MODULE_8_common_js_mixin__[\"c\" /* searchMixin */]],\n  data: function data() {\n    return {\n      hotKey: [],\n      query: '',\n      refreshDelay: 100\n    };\n  },\n\n  components: {\n    SearchBox: __WEBPACK_IMPORTED_MODULE_1_base_search_box_search_box__[\"a\" /* default */], Suggest: __WEBPACK_IMPORTED_MODULE_7_components_suggest_suggest__[\"a\" /* default */], SearchList: __WEBPACK_IMPORTED_MODULE_2_base_search_list_search_list__[\"a\" /* default */], Confirm: __WEBPACK_IMPORTED_MODULE_4_base_confirm_confirm__[\"a\" /* default */], Scroll: __WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__[\"a\" /* default */]\n  },\n  created: function created() {\n    this._getHotKey();\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    /*解决上拉 被mini播放器挡住*/\n    handlePlaylist: function handlePlaylist(playlist) {\n      var bottom = playlist.length > 0 ? '60px' : '';\n\n      this.$refs.shortcutWrapper.style.bottom = bottom;\n      this.$refs.shortcut.refresh();\n\n      this.$refs.searchResult.style.bottom = bottom;\n      this.$refs.suggest.refresh();\n    },\n    _getHotKey: function _getHotKey() {\n      var _this = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_5_api_search__[\"a\" /* getHotKey */])().then(function (res) {\n        _this.hotKey = res.data.hotkey.slice(0, 10); //截取热搜的 前10条数据\n        console.log(res.data.hotkey);\n      });\n    },\n    showConfirm: function showConfirm() {\n      /*调用confirm*/\n      this.$refs.confirm.show();\n    }\n  }, Object(__WEBPACK_IMPORTED_MODULE_9_vuex__[\"b\" /* mapActions */])(['clearSearchHistory'])),\n  computed: {\n    shortcut: function shortcut() {\n      /*监听两者 任一 一个有变化就重新计算 scroll*/\n      return this.hotKey.concat(this.searchHistory);\n    }\n  },\n  watch: {\n    query: function query(newQuery) {\n      var _this2 = this;\n\n      if (!newQuery) {\n        setTimeout(function () {\n          _this2.$refs.shortcut.refresh();\n        }, 20);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"N5wH\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"YU0n\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"P+mm\")(\"9d36614a\", content, true, {});\n\n/***/ }),\n\n/***/ \"YOyO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_search_vue__ = __webpack_require__(\"MMCQ\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_d124f9d2_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_search_vue__ = __webpack_require__(\"7Hoo\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"N5wH\")\n}\nvar normalizeComponent = __webpack_require__(\"SZvu\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d124f9d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_search_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_d124f9d2_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_search_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"YU0n\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"D/Sv\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".search .search-box-wrapper[data-v-d124f9d2]{margin:20px}.search .shortcut-wrapper[data-v-d124f9d2]{position:fixed;top:178px;bottom:0;width:100%}.search .shortcut-wrapper .shortcut[data-v-d124f9d2]{height:100%;overflow:hidden}.search .shortcut-wrapper .shortcut .hot-key[data-v-d124f9d2]{margin:0 20px 20px}.search .shortcut-wrapper .shortcut .hot-key .title[data-v-d124f9d2]{margin-bottom:20px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .hot-key .item[data-v-d124f9d2]{display:inline-block;padding:5px 10px;margin:0 20px 10px 0;border-radius:6px;background:#333;font-size:14px;color:hsla(0,0%,100%,.3)}.search .shortcut-wrapper .shortcut .search-history[data-v-d124f9d2]{position:relative;margin:0 20px}.search .shortcut-wrapper .shortcut .search-history .title[data-v-d124f9d2]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-d124f9d2]{-webkit-box-flex:1;-ms-flex:1;flex:1}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2]{position:relative}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2]:before{content:\\\"\\\";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px}.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-d124f9d2]{font-size:14px;color:hsla(0,0%,100%,.3)}.search .search-result[data-v-d124f9d2]{position:fixed;width:100%;top:178px;bottom:0}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/components/search/search.vue\"],\"names\":[],\"mappings\":\"AACA,6CACE,WAAa,CACd,AACD,2CACE,eAAgB,AAChB,UAAW,AACX,SAAU,AACV,UAAY,CACb,AACD,qDACI,YAAa,AACb,eAAiB,CACpB,AACD,8DACM,kBAAyB,CAC9B,AACD,qEACQ,mBAAoB,AACpB,eAAgB,AAChB,wBAAgC,CACvC,AACD,oEACQ,qBAAsB,AACtB,iBAAkB,AAClB,qBAAsB,AACtB,kBAAmB,AACnB,gBAAiB,AACjB,eAAgB,AAChB,wBAAgC,CACvC,AACD,qEACM,kBAAmB,AACnB,aAAe,CACpB,AACD,4EACQ,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,YAAa,AACb,eAAgB,AAChB,wBAAgC,CACvC,AACD,kFACU,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACzB,AACD,mFACU,iBAAmB,CAC5B,AACD,0FACY,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,YAAc,CACzB,AACD,+FACY,eAAgB,AAChB,wBAAgC,CAC3C,AACD,wCACE,eAAgB,AAChB,WAAY,AACZ,UAAW,AACX,QAAU,CACX\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n.search .search-box-wrapper[data-v-d124f9d2] {\\n  margin: 20px;\\n}\\n.search .shortcut-wrapper[data-v-d124f9d2] {\\n  position: fixed;\\n  top: 178px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.search .shortcut-wrapper .shortcut[data-v-d124f9d2] {\\n    height: 100%;\\n    overflow: hidden;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key[data-v-d124f9d2] {\\n      margin: 0 20px 20px 20px;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .title[data-v-d124f9d2] {\\n        margin-bottom: 20px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .item[data-v-d124f9d2] {\\n        display: inline-block;\\n        padding: 5px 10px;\\n        margin: 0 20px 10px 0;\\n        border-radius: 6px;\\n        background: #333;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.3);\\n}\\n.search .shortcut-wrapper .shortcut .search-history[data-v-d124f9d2] {\\n      position: relative;\\n      margin: 0 20px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title[data-v-d124f9d2] {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-align: center;\\n            -ms-flex-align: center;\\n                align-items: center;\\n        height: 40px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-d124f9d2] {\\n          -webkit-box-flex: 1;\\n              -ms-flex: 1;\\n                  flex: 1;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2] {\\n          position: relative;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2]:before {\\n            content: '';\\n            position: absolute;\\n            top: -10px;\\n            left: -10px;\\n            right: -10px;\\n            bottom: -10px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-d124f9d2] {\\n            font-size: 14px;\\n            color: rgba(255, 255, 255, 0.3);\\n}\\n.search .search-result[data-v-d124f9d2] {\\n  position: fixed;\\n  width: 100%;\\n  top: 178px;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.935420b771107e928160.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box-wrapper\"},[_c('search-box',{ref:\"searchBox\",on:{\"query\":_vm.onQueryChange}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"shortcutWrapper\",staticClass:\"shortcut-wrapper\"},[_c('scroll',{ref:\"shortcut\",staticClass:\"shortcut\",attrs:{\"refreshDelay\":_vm.refreshDelay,\"data\":_vm.shortcut}},[_c('div',[_c('div',{staticClass:\"hot-key\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotKey),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){return _vm.addQuery(item.k)}}},[_c('span',[_vm._v(_vm._s(item.k))])])}),0)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"search-history\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-clear\"})])]),_vm._v(\" \"),_c('search-list',{attrs:{\"searches\":_vm.searchHistory},on:{\"select\":_vm.addQuery,\"delete\":_vm.deleteSearchHistory}})],1)])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],ref:\"searchResult\",staticClass:\"search-result\"},[_c('suggest',{ref:\"suggest\",attrs:{\"query\":_vm.query},on:{\"select\":_vm.saveSearch,\"listScroll\":_vm.blurInput}})],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"是否清空所有搜索历史\",\"confirmBtnText\":\"清空\"},on:{\"confirm\":_vm.clearSearchHistory}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-d124f9d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/._vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search.vue\n// module id = 7Hoo\n// module chunks = 7","<template>\n  <div class=\"search\">\n    <div class=\"search-box-wrapper\">\n      <search-box ref=\"searchBox\" @query=\"onQueryChange\"></search-box>\n    </div>\n    <div class=\"shortcut-wrapper\" v-show=\"!query\" ref=\"shortcutWrapper\">\n      <scroll :refreshDelay=\"refreshDelay\" class=\"shortcut\" ref=\"shortcut\" :data=\"shortcut\">\n        <div>\n          <div class=\"hot-key\">\n            <h1 class=\"title\">热门搜索</h1>\n            <ul>\n              <li @click=\"addQuery(item.k)\" class=\"item\" v-for=\"item in hotKey\">\n                <span>{{item.k}}</span>\n              </li>\n            </ul>\n          </div>\n          <!--搜索历史-->\n          <div class=\"search-history\" v-show=\"searchHistory.length\">\n            <h1 class=\"title\">\n              <span class=\"text\">搜索历史</span>\n              <span class=\"clear\" @click=\"showConfirm\">\n              <i class=\"icon-clear\"></i>\n            </span>\n            </h1>\n            <search-list :searches=\"searchHistory\" @select=\"addQuery\" @delete=\"deleteSearchHistory\"></search-list>\n          </div>\n        </div>\n      </scroll>\n    </div>\n    <div class=\"search-result\" ref=\"searchResult\" v-show=\"query\">\n      <suggest ref=\"suggest\" @select=\"saveSearch\" @listScroll=\"blurInput\" :query=\"query\"></suggest>\n    </div>\n    <confirm ref=\"confirm\" text=\"是否清空所有搜索历史\" confirmBtnText=\"清空\" @confirm=\"clearSearchHistory\"></confirm>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\n  import SearchBox from 'base/search-box/search-box'\n  import SearchList from 'base/search-list/search-list'\n  import Scroll from 'base/scroll/scroll'\n  import Confirm from 'base/confirm/confirm'\n  import {getHotKey} from 'api/search'\n  import {ERR_OK} from 'api/config'\n  import Suggest from 'components/suggest/suggest'\n  import {playlistMixin, searchMixin} from 'common/js/mixin'\n  import {mapActions} from 'vuex'\n  export default {\n    mixins: [playlistMixin, searchMixin],\n    data(){\n      return {\n        hotKey: [],\n        query: '',\n        refreshDelay: 100\n      }\n    },\n    components: {\n      SearchBox, Suggest, SearchList, Confirm, Scroll\n    },\n    created() {\n      this._getHotKey()\n    },\n    methods: {\n      /*解决上拉 被mini播放器挡住*/\n      handlePlaylist(playlist){\n        const bottom = playlist.length > 0 ? '60px' : ''\n\n        this.$refs.shortcutWrapper.style.bottom = bottom\n        this.$refs.shortcut.refresh()\n\n        this.$refs.searchResult.style.bottom = bottom\n        this.$refs.suggest.refresh()\n      },\n      _getHotKey() {\n        getHotKey().then((res) => {\n          this.hotKey = res.data.hotkey.slice(0, 10)//截取热搜的 前10条数据\n          console.log(res.data.hotkey)\n        })\n      },\n      showConfirm() {/*调用confirm*/\n        this.$refs.confirm.show()\n      },\n      //此处如果只是简单的执行删除功能  可以直接 把mapActions定义的事件 赋值到对应的绑定事件上 从而减少代码量\n      /* deleteOne(item){\n       this.deleteSearchHistory(item)\n       },\n       deleteAll(){\n       this.clearSearchHistory()\n       },*/\n      ...mapActions([\n        'clearSearchHistory'\n      ])\n    },\n    computed: {\n      shortcut() {/*监听两者 任一 一个有变化就重新计算 scroll*/\n        return this.hotKey.concat(this.searchHistory)\n      }\n    },\n    watch: {\n      query(newQuery) {\n        if (!newQuery) {\n          setTimeout(() => {\n            this.$refs.shortcut.refresh()\n          }, 20)\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\" rel=\"stylesheet/scss\" type=\"text/scss\">\n  @import '~common/sass/variable.scss';\n  @import '~common/sass/mixin.scss';\n\n  .search {\n    .search-box-wrapper {\n      margin: 20px;\n    }\n    .shortcut-wrapper {\n      position: fixed;\n      top: 178px;\n      bottom: 0;\n      width: 100%;\n      .shortcut {\n        height: 100%;\n        overflow: hidden;\n        .hot-key {\n          margin: 0 20px 20px 20px;\n          .title {\n            margin-bottom: 20px;\n            font-size: $font-size-medium;\n            color: $color-text-l;\n          }\n          .item {\n            display: inline-block;\n            padding: 5px 10px;\n            margin: 0 20px 10px 0;\n            border-radius: 6px;\n            background: $color-highlight-background;\n            font-size: $font-size-medium;\n            color: $color-text-d;\n          }\n        }\n        .search-history {\n          position: relative;\n          margin: 0 20px;\n          .title {\n            display: flex;\n            align-items: center;\n            height: 40px;\n            font-size: $font-size-medium;\n            color: $color-text-l;\n            .text {\n              flex: 1;\n            }\n            .clear {\n              @include extend-click;\n              .icon-clear {\n                font-size: $font-size-medium;\n                color: $color-text-d;\n              }\n            }\n          }\n        }\n\n      }\n    }\n    .search-result {\n      position: fixed;\n      width: 100%;\n      top: 178px;\n      bottom: 0;\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/search.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/._css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d124f9d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/._sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./search.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/._vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"9d36614a\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/._vue-style-loader@3.1.2@vue-style-loader!./node_modules/._css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d124f9d2\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/components/search/search.vue\n// module id = N5wH\n// module chunks = 7","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/._extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d124f9d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d124f9d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/._vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d124f9d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search.vue\n// module id = YOyO\n// module chunks = 7","exports = module.exports = require(\"../../../node_modules/._css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".search .search-box-wrapper[data-v-d124f9d2]{margin:20px}.search .shortcut-wrapper[data-v-d124f9d2]{position:fixed;top:178px;bottom:0;width:100%}.search .shortcut-wrapper .shortcut[data-v-d124f9d2]{height:100%;overflow:hidden}.search .shortcut-wrapper .shortcut .hot-key[data-v-d124f9d2]{margin:0 20px 20px}.search .shortcut-wrapper .shortcut .hot-key .title[data-v-d124f9d2]{margin-bottom:20px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .hot-key .item[data-v-d124f9d2]{display:inline-block;padding:5px 10px;margin:0 20px 10px 0;border-radius:6px;background:#333;font-size:14px;color:hsla(0,0%,100%,.3)}.search .shortcut-wrapper .shortcut .search-history[data-v-d124f9d2]{position:relative;margin:0 20px}.search .shortcut-wrapper .shortcut .search-history .title[data-v-d124f9d2]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-d124f9d2]{-webkit-box-flex:1;-ms-flex:1;flex:1}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2]{position:relative}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2]:before{content:\\\"\\\";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px}.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-d124f9d2]{font-size:14px;color:hsla(0,0%,100%,.3)}.search .search-result[data-v-d124f9d2]{position:fixed;width:100%;top:178px;bottom:0}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/components/search/search.vue\"],\"names\":[],\"mappings\":\"AACA,6CACE,WAAa,CACd,AACD,2CACE,eAAgB,AAChB,UAAW,AACX,SAAU,AACV,UAAY,CACb,AACD,qDACI,YAAa,AACb,eAAiB,CACpB,AACD,8DACM,kBAAyB,CAC9B,AACD,qEACQ,mBAAoB,AACpB,eAAgB,AAChB,wBAAgC,CACvC,AACD,oEACQ,qBAAsB,AACtB,iBAAkB,AAClB,qBAAsB,AACtB,kBAAmB,AACnB,gBAAiB,AACjB,eAAgB,AAChB,wBAAgC,CACvC,AACD,qEACM,kBAAmB,AACnB,aAAe,CACpB,AACD,4EACQ,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,YAAa,AACb,eAAgB,AAChB,wBAAgC,CACvC,AACD,kFACU,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACzB,AACD,mFACU,iBAAmB,CAC5B,AACD,0FACY,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,YAAc,CACzB,AACD,+FACY,eAAgB,AAChB,wBAAgC,CAC3C,AACD,wCACE,eAAgB,AAChB,WAAY,AACZ,UAAW,AACX,QAAU,CACX\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n.search .search-box-wrapper[data-v-d124f9d2] {\\n  margin: 20px;\\n}\\n.search .shortcut-wrapper[data-v-d124f9d2] {\\n  position: fixed;\\n  top: 178px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.search .shortcut-wrapper .shortcut[data-v-d124f9d2] {\\n    height: 100%;\\n    overflow: hidden;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key[data-v-d124f9d2] {\\n      margin: 0 20px 20px 20px;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .title[data-v-d124f9d2] {\\n        margin-bottom: 20px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .item[data-v-d124f9d2] {\\n        display: inline-block;\\n        padding: 5px 10px;\\n        margin: 0 20px 10px 0;\\n        border-radius: 6px;\\n        background: #333;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.3);\\n}\\n.search .shortcut-wrapper .shortcut .search-history[data-v-d124f9d2] {\\n      position: relative;\\n      margin: 0 20px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title[data-v-d124f9d2] {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-align: center;\\n            -ms-flex-align: center;\\n                align-items: center;\\n        height: 40px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-d124f9d2] {\\n          -webkit-box-flex: 1;\\n              -ms-flex: 1;\\n                  flex: 1;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2] {\\n          position: relative;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-d124f9d2]:before {\\n            content: '';\\n            position: absolute;\\n            top: -10px;\\n            left: -10px;\\n            right: -10px;\\n            bottom: -10px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-d124f9d2] {\\n            font-size: 14px;\\n            color: rgba(255, 255, 255, 0.3);\\n}\\n.search .search-result[data-v-d124f9d2] {\\n  position: fixed;\\n  width: 100%;\\n  top: 178px;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d124f9d2\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/components/search/search.vue\n// module id = YU0n\n// module chunks = 7"],"sourceRoot":""}