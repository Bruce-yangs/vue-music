{"version":3,"sources":["webpack:///static/js/7.76d28bccaecef5c0d5e8.js","webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?0e34","webpack:///./src/components/search/search.vue","webpack:///./src/components/search/search.vue?6121","webpack:///./src/components/search/search.vue?30fa"],"names":["webpackJsonp","1qZq","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_base_search_box_search_box__","__WEBPACK_IMPORTED_MODULE_2_base_search_list_search_list__","__WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__","__WEBPACK_IMPORTED_MODULE_4_base_confirm_confirm__","__WEBPACK_IMPORTED_MODULE_5_api_search__","__WEBPACK_IMPORTED_MODULE_7_components_suggest_suggest__","__WEBPACK_IMPORTED_MODULE_8_common_js_mixin__","__WEBPACK_IMPORTED_MODULE_9_vuex__","mixins","data","hotKey","query","refreshDelay","components","SearchBox","Suggest","SearchList","Confirm","Scroll","created","this","_getHotKey","methods","handlePlaylist","playlist","bottom","length","$refs","shortcutWrapper","style","shortcut","refresh","searchResult","suggest","_this","Object","then","res","hotkey","slice","console","log","showConfirm","confirm","show","computed","concat","searchHistory","watch","newQuery","_this2","setTimeout","Q1IS","exports","content","i","locals","YOyO","injectStyle","ssrContext","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_search_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_0e6b8440_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_search_vue__","normalizeComponent","__vue_styles__","Component","byUe","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","x+qi","render","_vm","_h","$createElement","_c","_self","staticClass","ref","on","onQueryChange","_v","directives","name","rawName","expression","attrs","_l","item","click","$event","addQuery","k","_s","searches","select","delete","deleteSearchHistory","saveSearch","listScroll","blurInput","text","confirmBtnText","clearSearchHistory","staticRenderFns","esExports"],"mappings":"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","file":"static/js/7.76d28bccaecef5c0d5e8.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"1qZq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"B2YR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_search_box_search_box__ = __webpack_require__(\"2X+S\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_base_search_list_search_list__ = __webpack_require__(\"vhoT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__ = __webpack_require__(\"qwAB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_base_confirm_confirm__ = __webpack_require__(\"XEAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_api_search__ = __webpack_require__(\"8stH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_api_config__ = __webpack_require__(\"T452\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_components_suggest_suggest__ = __webpack_require__(\"6Xyt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_common_js_mixin__ = __webpack_require__(\"F4+m\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vuex__ = __webpack_require__(\"E661\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_8_common_js_mixin__[\"b\" /* playlistMixin */], __WEBPACK_IMPORTED_MODULE_8_common_js_mixin__[\"c\" /* searchMixin */]],\n  data: function data() {\n    return {\n      hotKey: [],\n      query: '',\n      refreshDelay: 100\n    };\n  },\n\n  components: {\n    SearchBox: __WEBPACK_IMPORTED_MODULE_1_base_search_box_search_box__[\"a\" /* default */], Suggest: __WEBPACK_IMPORTED_MODULE_7_components_suggest_suggest__[\"a\" /* default */], SearchList: __WEBPACK_IMPORTED_MODULE_2_base_search_list_search_list__[\"a\" /* default */], Confirm: __WEBPACK_IMPORTED_MODULE_4_base_confirm_confirm__[\"a\" /* default */], Scroll: __WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll__[\"a\" /* default */]\n  },\n  created: function created() {\n    this._getHotKey();\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    /*解决上拉 被mini播放器挡住*/\n    handlePlaylist: function handlePlaylist(playlist) {\n      var bottom = playlist.length > 0 ? '60px' : '';\n\n      this.$refs.shortcutWrapper.style.bottom = bottom;\n      this.$refs.shortcut.refresh();\n\n      this.$refs.searchResult.style.bottom = bottom;\n      this.$refs.suggest.refresh();\n    },\n    _getHotKey: function _getHotKey() {\n      var _this = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_5_api_search__[\"a\" /* getHotKey */])().then(function (res) {\n        _this.hotKey = res.data.hotkey.slice(0, 10); //截取热搜的 前10条数据\n        console.log(res.data.hotkey);\n      });\n    },\n    showConfirm: function showConfirm() {\n      /*调用confirm*/\n      this.$refs.confirm.show();\n    }\n  }, Object(__WEBPACK_IMPORTED_MODULE_9_vuex__[\"b\" /* mapActions */])(['clearSearchHistory'])),\n  computed: {\n    shortcut: function shortcut() {\n      /*监听两者 任一 一个有变化就重新计算 scroll*/\n      return this.hotKey.concat(this.searchHistory);\n    }\n  },\n  watch: {\n    query: function query(newQuery) {\n      var _this2 = this;\n\n      if (!newQuery) {\n        setTimeout(function () {\n          _this2.$refs.shortcut.refresh();\n        }, 20);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Q1IS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"byUe\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"MO7y\")(\"03391c48\", content, true);\n\n/***/ }),\n\n/***/ \"YOyO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_search_vue__ = __webpack_require__(\"1qZq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_0e6b8440_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_search_vue__ = __webpack_require__(\"x+qi\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Q1IS\")\n}\nvar normalizeComponent = __webpack_require__(\"Cut0\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e6b8440\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_search_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_0e6b8440_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_search_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"byUe\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"xCkK\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".search .search-box-wrapper[data-v-0e6b8440]{margin:20px}.search .shortcut-wrapper[data-v-0e6b8440]{position:fixed;top:178px;bottom:0;width:100%}.search .shortcut-wrapper .shortcut[data-v-0e6b8440]{height:100%;overflow:hidden}.search .shortcut-wrapper .shortcut .hot-key[data-v-0e6b8440]{margin:0 20px 20px}.search .shortcut-wrapper .shortcut .hot-key .title[data-v-0e6b8440]{margin-bottom:20px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .hot-key .item[data-v-0e6b8440]{display:inline-block;padding:5px 10px;margin:0 20px 10px 0;border-radius:6px;background:#333;font-size:14px;color:hsla(0,0%,100%,.3)}.search .shortcut-wrapper .shortcut .search-history[data-v-0e6b8440]{position:relative;margin:0 20px}.search .shortcut-wrapper .shortcut .search-history .title[data-v-0e6b8440]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-0e6b8440]{-webkit-box-flex:1;-ms-flex:1;flex:1}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440]{position:relative}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440]:before{content:\\\"\\\";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px}.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-0e6b8440]{font-size:14px;color:hsla(0,0%,100%,.3)}.search .search-result[data-v-0e6b8440]{position:fixed;width:100%;top:178px;bottom:0}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/components/search/search.vue\"],\"names\":[],\"mappings\":\"AACA,6CACE,WAAa,CACd,AACD,2CACE,eAAgB,AAChB,UAAW,AACX,SAAU,AACV,UAAY,CACb,AACD,qDACI,YAAa,AACb,eAAiB,CACpB,AACD,8DACM,kBAAyB,CAC9B,AACD,qEACQ,mBAAoB,AACpB,eAAgB,AAChB,wBAAgC,CACvC,AACD,oEACQ,qBAAsB,AACtB,iBAAkB,AAClB,qBAAsB,AACtB,kBAAmB,AACnB,gBAAiB,AACjB,eAAgB,AAChB,wBAAgC,CACvC,AACD,qEACM,kBAAmB,AACnB,aAAe,CACpB,AACD,4EACQ,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,YAAa,AACb,eAAgB,AAChB,wBAAgC,CACvC,AACD,kFACU,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACzB,AACD,mFACU,iBAAmB,CAC5B,AACD,0FACY,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,YAAc,CACzB,AACD,+FACY,eAAgB,AAChB,wBAAgC,CAC3C,AACD,wCACE,eAAgB,AAChB,WAAY,AACZ,UAAW,AACX,QAAU,CACX\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n.search .search-box-wrapper[data-v-0e6b8440] {\\n  margin: 20px;\\n}\\n.search .shortcut-wrapper[data-v-0e6b8440] {\\n  position: fixed;\\n  top: 178px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.search .shortcut-wrapper .shortcut[data-v-0e6b8440] {\\n    height: 100%;\\n    overflow: hidden;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key[data-v-0e6b8440] {\\n      margin: 0 20px 20px 20px;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .title[data-v-0e6b8440] {\\n        margin-bottom: 20px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .item[data-v-0e6b8440] {\\n        display: inline-block;\\n        padding: 5px 10px;\\n        margin: 0 20px 10px 0;\\n        border-radius: 6px;\\n        background: #333;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.3);\\n}\\n.search .shortcut-wrapper .shortcut .search-history[data-v-0e6b8440] {\\n      position: relative;\\n      margin: 0 20px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title[data-v-0e6b8440] {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-align: center;\\n            -ms-flex-align: center;\\n                align-items: center;\\n        height: 40px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-0e6b8440] {\\n          -webkit-box-flex: 1;\\n              -ms-flex: 1;\\n                  flex: 1;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440] {\\n          position: relative;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440]:before {\\n            content: '';\\n            position: absolute;\\n            top: -10px;\\n            left: -10px;\\n            right: -10px;\\n            bottom: -10px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-0e6b8440] {\\n            font-size: 14px;\\n            color: rgba(255, 255, 255, 0.3);\\n}\\n.search .search-result[data-v-0e6b8440] {\\n  position: fixed;\\n  width: 100%;\\n  top: 178px;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"x+qi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box-wrapper\"},[_c('search-box',{ref:\"searchBox\",on:{\"query\":_vm.onQueryChange}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"shortcutWrapper\",staticClass:\"shortcut-wrapper\"},[_c('scroll',{ref:\"shortcut\",staticClass:\"shortcut\",attrs:{\"refreshDelay\":_vm.refreshDelay,\"data\":_vm.shortcut}},[_c('div',[_c('div',{staticClass:\"hot-key\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotKey),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){_vm.addQuery(item.k)}}},[_c('span',[_vm._v(_vm._s(item.k))])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"search-history\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-clear\"})])]),_vm._v(\" \"),_c('search-list',{attrs:{\"searches\":_vm.searchHistory},on:{\"select\":_vm.addQuery,\"delete\":_vm.deleteSearchHistory}})],1)])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],ref:\"searchResult\",staticClass:\"search-result\"},[_c('suggest',{ref:\"suggest\",attrs:{\"query\":_vm.query},on:{\"select\":_vm.saveSearch,\"listScroll\":_vm.blurInput}})],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"是否清空所有搜索历史\",\"confirmBtnText\":\"清空\"},on:{\"confirm\":_vm.clearSearchHistory}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.76d28bccaecef5c0d5e8.js","<template>\n  <div class=\"search\">\n    <div class=\"search-box-wrapper\">\n      <search-box ref=\"searchBox\" @query=\"onQueryChange\"></search-box>\n    </div>\n    <div class=\"shortcut-wrapper\" v-show=\"!query\" ref=\"shortcutWrapper\">\n      <scroll :refreshDelay=\"refreshDelay\" class=\"shortcut\" ref=\"shortcut\" :data=\"shortcut\">\n        <div>\n          <div class=\"hot-key\">\n            <h1 class=\"title\">热门搜索</h1>\n            <ul>\n              <li @click=\"addQuery(item.k)\" class=\"item\" v-for=\"item in hotKey\">\n                <span>{{item.k}}</span>\n              </li>\n            </ul>\n          </div>\n          <!--搜索历史-->\n          <div class=\"search-history\" v-show=\"searchHistory.length\">\n            <h1 class=\"title\">\n              <span class=\"text\">搜索历史</span>\n              <span class=\"clear\" @click=\"showConfirm\">\n              <i class=\"icon-clear\"></i>\n            </span>\n            </h1>\n            <search-list :searches=\"searchHistory\" @select=\"addQuery\" @delete=\"deleteSearchHistory\"></search-list>\n          </div>\n        </div>\n      </scroll>\n    </div>\n    <div class=\"search-result\" ref=\"searchResult\" v-show=\"query\">\n      <suggest ref=\"suggest\" @select=\"saveSearch\" @listScroll=\"blurInput\" :query=\"query\"></suggest>\n    </div>\n    <confirm ref=\"confirm\" text=\"是否清空所有搜索历史\" confirmBtnText=\"清空\" @confirm=\"clearSearchHistory\"></confirm>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\n  import SearchBox from 'base/search-box/search-box'\n  import SearchList from 'base/search-list/search-list'\n  import Scroll from 'base/scroll/scroll'\n  import Confirm from 'base/confirm/confirm'\n  import {getHotKey} from 'api/search'\n  import {ERR_OK} from 'api/config'\n  import Suggest from 'components/suggest/suggest'\n  import {playlistMixin,searchMixin} from 'common/js/mixin'\n  import {mapActions} from 'vuex'\n  export default {\n    mixins: [playlistMixin,searchMixin],\n    data(){\n      return{\n        hotKey:[],\n        query:'',\n        refreshDelay:100\n      }\n    },\n    components: {\n      SearchBox,Suggest,SearchList,Confirm,Scroll\n    },\n    created() {\n      this._getHotKey()\n    },\n    methods: {\n      /*解决上拉 被mini播放器挡住*/\n      handlePlaylist(playlist){\n        const bottom = playlist.length > 0 ? '60px' : ''\n\n        this.$refs.shortcutWrapper.style.bottom = bottom\n        this.$refs.shortcut.refresh()\n\n        this.$refs.searchResult.style.bottom = bottom\n        this.$refs.suggest.refresh()\n      },\n      _getHotKey() {\n        getHotKey().then((res) => {\n            this.hotKey = res.data.hotkey.slice(0,10)//截取热搜的 前10条数据\n          console.log(res.data.hotkey)\n        })\n      },\n      showConfirm() {/*调用confirm*/\n          this.$refs.confirm.show()\n      },\n     //此处如果只是简单的执行删除功能  可以直接 把mapActions定义的事件 赋值到对应的绑定事件上 从而减少代码量\n     /* deleteOne(item){\n        this.deleteSearchHistory(item)\n      },\n      deleteAll(){\n        this.clearSearchHistory()\n      },*/\n      ...mapActions([\n        'clearSearchHistory'\n      ])\n    },\n    computed:{\n      shortcut() {/*监听两者 任一 一个有变化就重新计算 scroll*/\n          return this.hotKey.concat(this.searchHistory)\n      }\n    },\n    watch: {\n      query(newQuery) {\n        if(!newQuery) {\n          setTimeout(() => {\n              this.$refs.shortcut.refresh()\n          },20)\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\" rel=\"stylesheet/scss\">\n  @import '~common/sass/variable.scss';\n  @import '~common/sass/mixin.scss';\n  .search{\n    .search-box-wrapper{\n      margin:20px;\n    }\n    .shortcut-wrapper{\n      position:fixed;\n      top:178px;\n      bottom:0;\n      width:100%;\n      .shortcut{\n        height: 100%;\n        overflow: hidden;\n        .hot-key{\n          margin: 0 20px 20px 20px;\n          .title{\n            margin-bottom: 20px;\n            font-size: $font-size-medium;\n            color: $color-text-l;\n          }\n          .item{\n            display: inline-block;\n            padding: 5px 10px;\n            margin: 0 20px 10px 0;\n            border-radius: 6px;\n            background: $color-highlight-background;\n            font-size: $font-size-medium;\n            color: $color-text-d;\n          }\n        }\n        .search-history{\n          position: relative;\n          margin: 0 20px;\n          .title{\n            display: flex;\n            align-items: center;\n            height: 40px;\n            font-size: $font-size-medium;\n            color: $color-text-l;\n            .text{\n              flex: 1;\n            }\n            .clear{\n              @include extend-click;\n              .icon-clear{\n                font-size: $font-size-medium;\n                color: $color-text-d;\n              }\n            }\n          }\n        }\n\n      }\n    }\n    .search-result{\n      position: fixed;\n      width: 100%;\n      top: 178px;\n      bottom: 0;\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/search.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/._css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e6b8440\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./search.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/._vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"03391c48\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._extract-text-webpack-plugin@3.0.1@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/._vue-style-loader@3.0.3@vue-style-loader!./node_modules/._css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0e6b8440\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/search/search.vue\n// module id = Q1IS\n// module chunks = 7","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e6b8440\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e6b8440\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e6b8440\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search.vue\n// module id = YOyO\n// module chunks = 7","exports = module.exports = require(\"../../../node_modules/._css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".search .search-box-wrapper[data-v-0e6b8440]{margin:20px}.search .shortcut-wrapper[data-v-0e6b8440]{position:fixed;top:178px;bottom:0;width:100%}.search .shortcut-wrapper .shortcut[data-v-0e6b8440]{height:100%;overflow:hidden}.search .shortcut-wrapper .shortcut .hot-key[data-v-0e6b8440]{margin:0 20px 20px}.search .shortcut-wrapper .shortcut .hot-key .title[data-v-0e6b8440]{margin-bottom:20px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .hot-key .item[data-v-0e6b8440]{display:inline-block;padding:5px 10px;margin:0 20px 10px 0;border-radius:6px;background:#333;font-size:14px;color:hsla(0,0%,100%,.3)}.search .shortcut-wrapper .shortcut .search-history[data-v-0e6b8440]{position:relative;margin:0 20px}.search .shortcut-wrapper .shortcut .search-history .title[data-v-0e6b8440]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-0e6b8440]{-webkit-box-flex:1;-ms-flex:1;flex:1}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440]{position:relative}.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440]:before{content:\\\"\\\";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px}.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-0e6b8440]{font-size:14px;color:hsla(0,0%,100%,.3)}.search .search-result[data-v-0e6b8440]{position:fixed;width:100%;top:178px;bottom:0}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/components/search/search.vue\"],\"names\":[],\"mappings\":\"AACA,6CACE,WAAa,CACd,AACD,2CACE,eAAgB,AAChB,UAAW,AACX,SAAU,AACV,UAAY,CACb,AACD,qDACI,YAAa,AACb,eAAiB,CACpB,AACD,8DACM,kBAAyB,CAC9B,AACD,qEACQ,mBAAoB,AACpB,eAAgB,AAChB,wBAAgC,CACvC,AACD,oEACQ,qBAAsB,AACtB,iBAAkB,AAClB,qBAAsB,AACtB,kBAAmB,AACnB,gBAAiB,AACjB,eAAgB,AAChB,wBAAgC,CACvC,AACD,qEACM,kBAAmB,AACnB,aAAe,CACpB,AACD,4EACQ,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,YAAa,AACb,eAAgB,AAChB,wBAAgC,CACvC,AACD,kFACU,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACzB,AACD,mFACU,iBAAmB,CAC5B,AACD,0FACY,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,YAAc,CACzB,AACD,+FACY,eAAgB,AAChB,wBAAgC,CAC3C,AACD,wCACE,eAAgB,AAChB,WAAY,AACZ,UAAW,AACX,QAAU,CACX\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n.search .search-box-wrapper[data-v-0e6b8440] {\\n  margin: 20px;\\n}\\n.search .shortcut-wrapper[data-v-0e6b8440] {\\n  position: fixed;\\n  top: 178px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.search .shortcut-wrapper .shortcut[data-v-0e6b8440] {\\n    height: 100%;\\n    overflow: hidden;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key[data-v-0e6b8440] {\\n      margin: 0 20px 20px 20px;\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .title[data-v-0e6b8440] {\\n        margin-bottom: 20px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .hot-key .item[data-v-0e6b8440] {\\n        display: inline-block;\\n        padding: 5px 10px;\\n        margin: 0 20px 10px 0;\\n        border-radius: 6px;\\n        background: #333;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.3);\\n}\\n.search .shortcut-wrapper .shortcut .search-history[data-v-0e6b8440] {\\n      position: relative;\\n      margin: 0 20px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title[data-v-0e6b8440] {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        -webkit-box-align: center;\\n            -ms-flex-align: center;\\n                align-items: center;\\n        height: 40px;\\n        font-size: 14px;\\n        color: rgba(255, 255, 255, 0.5);\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-0e6b8440] {\\n          -webkit-box-flex: 1;\\n              -ms-flex: 1;\\n                  flex: 1;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440] {\\n          position: relative;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear[data-v-0e6b8440]:before {\\n            content: '';\\n            position: absolute;\\n            top: -10px;\\n            left: -10px;\\n            right: -10px;\\n            bottom: -10px;\\n}\\n.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-0e6b8440] {\\n            font-size: 14px;\\n            color: rgba(255, 255, 255, 0.3);\\n}\\n.search .search-result[data-v-0e6b8440] {\\n  position: fixed;\\n  width: 100%;\\n  top: 178px;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0e6b8440\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/search/search.vue\n// module id = byUe\n// module chunks = 7","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box-wrapper\"},[_c('search-box',{ref:\"searchBox\",on:{\"query\":_vm.onQueryChange}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"shortcutWrapper\",staticClass:\"shortcut-wrapper\"},[_c('scroll',{ref:\"shortcut\",staticClass:\"shortcut\",attrs:{\"refreshDelay\":_vm.refreshDelay,\"data\":_vm.shortcut}},[_c('div',[_c('div',{staticClass:\"hot-key\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotKey),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){_vm.addQuery(item.k)}}},[_c('span',[_vm._v(_vm._s(item.k))])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"search-history\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-clear\"})])]),_vm._v(\" \"),_c('search-list',{attrs:{\"searches\":_vm.searchHistory},on:{\"select\":_vm.addQuery,\"delete\":_vm.deleteSearchHistory}})],1)])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],ref:\"searchResult\",staticClass:\"search-result\"},[_c('suggest',{ref:\"suggest\",attrs:{\"query\":_vm.query},on:{\"select\":_vm.saveSearch,\"listScroll\":_vm.blurInput}})],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"是否清空所有搜索历史\",\"confirmBtnText\":\"清空\"},on:{\"confirm\":_vm.clearSearchHistory}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-loader@13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-0e6b8440\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search.vue\n// module id = x+qi\n// module chunks = 7"],"sourceRoot":""}