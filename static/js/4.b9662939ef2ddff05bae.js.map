{"version":3,"sources":["webpack:///static/js/4.b9662939ef2ddff05bae.js","webpack:///./src/components/singer/singer.vue","webpack:///./src/base/listview/listview.vue?5c86","webpack:///./src/api/singer.js","webpack:///./src/components/singer/singer.vue?1649","webpack:///./src/components/singer/singer.vue?f9a8","webpack:///src/base/listview/listview.vue","webpack:///src/components/singer/singer.vue","webpack:///./src/components/singer/singer.vue?a0c4","webpack:///./src/base/listview/listview.vue","webpack:///./src/base/listview/listview.vue?09ef","webpack:///./src/base/listview/listview.vue?cab7"],"names":["webpackJsonp","0IpB","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_singer_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4b8ff140_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_singer_vue__","normalizeComponent","__vue_styles__","Component","NsiM","exports","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","Sgn/","getSingerList","data","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","channel","page","key","pagesize","pagenum","g_tk","loginUin","hostUin","format","inCharset","outCharset","notice","platform","needNewCode","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","__WEBPACK_IMPORTED_MODULE_2__config__","getSingerDetail","singerId","singermid","order","begin","num","songstatus","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","n","Y1w3","content","locals","bWzI","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","singer","on","select","selectSinger","_v","staticRenderFns","esExports","edUg","__WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__","__WEBPACK_IMPORTED_MODULE_1_base_loading_loading__","__WEBPACK_IMPORTED_MODULE_2_common_js_dom__","scrollY","diff","currentIndex","created","touch","listenScroll","listHeight","probeType","props","type","Array","default","computed","shortcutList","map","group","title","substr","fixedTitle","methods","refresh","$refs","listview","onShortcutTouchStart","e","anchorIndex","target","firstTouch","touches","y1","pageY","_scrollTo","onShortcutTouchMove","y2","delta","parseInt","scroll","pos","y","index","length","scrollToElement","listGroup","calcHeight","list","height","clientHeight","selectItem","item","$emit","components","Scroll","Loading","watch","_this","setTimeout","newY","height1","height2","newVal","fixedTop","fixed","style","transform","h+qJ","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_api_singer__","__WEBPACK_IMPORTED_MODULE_2_api_config__","__WEBPACK_IMPORTED_MODULE_3_common_js_singer__","__WEBPACK_IMPORTED_MODULE_4_base_listview_listview__","__WEBPACK_IMPORTED_MODULE_5_vuex__","__WEBPACK_IMPORTED_MODULE_6_common_js_mixin__","mixins","_getSingerList","handlePlaylist","playlist","bottom","singerList","console","log","id","$router","path","setSinger","then","res","code","_normalizeSinger","hot","items","forEach","Fsinger_mid","name","Fsinger_name","Findex","ret","val","test","sort","a","b","charCodeAt","concat","Listview","ijYt","sODj","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_listview_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_36e82cfb_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_listview_vue__","uEKT","_l","refInFor","_s","click","$event","directives","rawName","expression","touchstart","touchmove","stopPropagation","preventDefault","class","current","data-index","yyM9"],"mappings":"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","file":"static/js/4.b9662939ef2ddff05bae.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"0IpB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_singer_vue__ = __webpack_require__(\"h+qJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4b8ff140_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_singer_vue__ = __webpack_require__(\"bWzI\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Y1w3\")\n}\nvar normalizeComponent = __webpack_require__(\"Cut0\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b8ff140\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_singer_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4b8ff140_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_singer_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NsiM\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"xCkK\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".listview[data-v-36e82cfb]{position:relative;width:100%;height:100%;overflow:hidden;background:#222}.listview .list-group[data-v-36e82cfb]{padding-bottom:30px}.listview .list-group .list-group-title[data-v-36e82cfb]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .list-group .list-group-item[data-v-36e82cfb]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:20px 0 0 30px}.listview .list-group .list-group-item .avatar[data-v-36e82cfb]{width:50px;height:50px;border-radius:50%}.listview .list-group .list-group-item .name[data-v-36e82cfb]{margin-left:20px;color:hsla(0,0%,100%,.5);font-size:14px}.listview .list-shortcut[data-v-36e82cfb]{position:absolute;z-index:30;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:20px;padding:20px 0;border-radius:10px;text-align:center;background:rgba(0,0,0,.3);font-family:Helvetica}.listview .list-shortcut .item[data-v-36e82cfb]{padding:3px;line-height:1;color:hsla(0,0%,100%,.5);font-size:12px}.listview .list-shortcut .item.current[data-v-36e82cfb]{color:#ffcd32}.listview .list-fixed[data-v-36e82cfb]{position:absolute;top:0;left:0;width:100%}.listview .list-fixed .fixed-title[data-v-36e82cfb]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .loading-container[data-v-36e82cfb]{position:absolute;width:100%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/base/listview/listview.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CAClB,AACD,uCACI,mBAAqB,CACxB,AACD,yDACM,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAAgC,AAChC,eAAiB,CACtB,AACD,wDACM,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,qBAAuB,CAC5B,AACD,gEACQ,WAAY,AACZ,YAAa,AACb,iBAAmB,CAC1B,AACD,8DACQ,iBAAkB,AAClB,yBAAgC,AAChC,cAAgB,CACvB,AACD,0CACI,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,QAAS,AACT,mCAAoC,AAC5B,2BAA4B,AACpC,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,0BAA+B,AAC/B,qBAAuB,CAC1B,AACD,gDACM,YAAa,AACb,cAAe,AACf,yBAAgC,AAChC,cAAgB,CACrB,AACD,wDACQ,aAAe,CACtB,AACD,uCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,UAAY,CACf,AACD,oDACM,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAAgC,AAChC,eAAiB,CACtB,AACD,8CACI,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,mCAAoC,AAC5B,0BAA4B,CACvC\",\"file\":\"listview.vue\",\"sourcesContent\":[\"\\n.listview[data-v-36e82cfb] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list-group[data-v-36e82cfb] {\\n    padding-bottom: 30px;\\n}\\n.listview .list-group .list-group-title[data-v-36e82cfb] {\\n      height: 30px;\\n      line-height: 30px;\\n      padding-left: 20px;\\n      font-size: 12px;\\n      color: rgba(255, 255, 255, 0.5);\\n      background: #333;\\n}\\n.listview .list-group .list-group-item[data-v-36e82cfb] {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-align: center;\\n          -ms-flex-align: center;\\n              align-items: center;\\n      padding: 20px 0 0 30px;\\n}\\n.listview .list-group .list-group-item .avatar[data-v-36e82cfb] {\\n        width: 50px;\\n        height: 50px;\\n        border-radius: 50%;\\n}\\n.listview .list-group .list-group-item .name[data-v-36e82cfb] {\\n        margin-left: 20px;\\n        color: rgba(255, 255, 255, 0.5);\\n        font-size: 14px;\\n}\\n.listview .list-shortcut[data-v-36e82cfb] {\\n    position: absolute;\\n    z-index: 30;\\n    right: 0;\\n    top: 50%;\\n    -webkit-transform: translateY(-50%);\\n            transform: translateY(-50%);\\n    width: 20px;\\n    padding: 20px 0;\\n    border-radius: 10px;\\n    text-align: center;\\n    background: rgba(0, 0, 0, 0.3);\\n    font-family: Helvetica;\\n}\\n.listview .list-shortcut .item[data-v-36e82cfb] {\\n      padding: 3px;\\n      line-height: 1;\\n      color: rgba(255, 255, 255, 0.5);\\n      font-size: 12px;\\n}\\n.listview .list-shortcut .item.current[data-v-36e82cfb] {\\n        color: #ffcd32;\\n}\\n.listview .list-fixed[data-v-36e82cfb] {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n}\\n.listview .list-fixed .fixed-title[data-v-36e82cfb] {\\n      height: 30px;\\n      line-height: 30px;\\n      padding-left: 20px;\\n      font-size: 12px;\\n      color: rgba(255, 255, 255, 0.5);\\n      background: #333;\\n}\\n.listview .loading-container[data-v-36e82cfb] {\\n    position: absolute;\\n    width: 100%;\\n    top: 50%;\\n    -webkit-transform: translateY(-50%);\\n            transform: translateY(-50%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"Sgn/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getSingerList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getSingerDetail;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"mOK0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__ = __webpack_require__(\"Gak4\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config__ = __webpack_require__(\"T452\");\n\n\n\n\nfunction getSingerList() {\n  var url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg';\n\n  var data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, {\n    channel: 'singer',\n    page: 'list',\n    key: 'all_all_all',\n    pagesize: 100,\n    pagenum: 1,\n    g_tk: 5381,\n    loginUin: 0,\n    hostUin: 0,\n    format: 'jsonp',\n    inCharset: 'utf8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'yqq',\n    needNewCode: 0\n  });\n\n  return Object(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config__[\"c\" /* options */]);\n}\n\nfunction getSingerDetail(singerId) {\n  var url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg';\n\n  var data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, {\n    g_tk: 5381,\n    loginUin: 0,\n    hostUin: 0,\n    format: __WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */],\n    inCharset: 'utf8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'yqq',\n    needNewCode: 0,\n    singermid: singerId,\n    order: 'listen',\n    begin: 0,\n    num: 200,\n    songstatus: 1\n  });\n\n  return Object(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config__[\"c\" /* options */]);\n}\n\n/***/ }),\n\n/***/ \"Y1w3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"ijYt\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"MO7y\")(\"6dd659fe\", content, true);\n\n/***/ }),\n\n/***/ \"bWzI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singer\",staticClass:\"singer\"},[_c('listview',{ref:\"singerList\",attrs:{\"data\":_vm.singer},on:{\"select\":_vm.selectSinger}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"edUg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__ = __webpack_require__(\"qwAB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_loading_loading__ = __webpack_require__(\"y/jF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_js_dom__ = __webpack_require__(\"3Q4o\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar ANCHOR_HEIGHT = 18;\nvar TITLE_HEIGHT = 30;\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      scrollY: -1,\n      diff: -1, //title差值\n      currentIndex: 0\n    };\n  },\n  created: function created() {\n    this.touch = {};\n    this.listenScroll = true;\n    this.listHeight = [];\n    this.probeType = 3;\n  },\n\n  props: {\n    data: {\n      type: Array,\n      default: []\n    }\n  },\n  computed: {\n    shortcutList: function shortcutList() {\n      return this.data.map(function (group) {\n        //截取热门 ->热\n        return group.title.substr(0, 1);\n      });\n    },\n    fixedTitle: function fixedTitle() {\n      if (this.scrollY > 0) return;\n      return this.data[this.currentIndex] ? this.data[this.currentIndex].title : '';\n    }\n  },\n  methods: {\n    refresh: function refresh() {\n      this.$refs.listview.refresh();\n    },\n    onShortcutTouchStart: function onShortcutTouchStart(e) {\n      // 获取当前触摸的index getData为封装好的方法\n      var anchorIndex = Object(__WEBPACK_IMPORTED_MODULE_2_common_js_dom__[\"b\" /* getData */])(e.target, 'index');\n      var firstTouch = e.touches[0]; //第一次触摸屏幕\n      this.touch.y1 = firstTouch.pageY;\n      this.touch.anchorIndex = anchorIndex;\n      this._scrollTo(anchorIndex);\n    },\n    onShortcutTouchMove: function onShortcutTouchMove(e) {\n      var firstTouch = e.touches[0];\n      this.touch.y2 = firstTouch.pageY;\n      // 向下取整\n      var delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0; //求出偏移差\n      // 获取移动的距离\n      var anchorIndex = parseInt(this.touch.anchorIndex) + delta;\n      this._scrollTo(anchorIndex);\n    },\n\n    // 监听scroll组件派发的scroll事件 获取滚动时的pos值\n    scroll: function scroll(pos) {\n      this.scrollY = pos.y;\n      //        console.log(this.scrollY)\n    },\n    _scrollTo: function _scrollTo(index) {\n\n      if (!index && index !== 0) {\n        //去除上下的2个空白区域\n        return;\n      }\n      // 判断index上下限\n      if (index < 0) {\n        index = 0;\n      } else if (index > this.listHeight.length - 2) {\n        index = this.listHeight.length - 2;\n      }\n      this.scrollY = -this.listHeight[index];\n      this.$refs.listview.scrollToElement(this.$refs.listGroup[index], 0); //第二个参数0 是动画时间\n    },\n\n    // 计算每一个singer list的height\n    calcHeight: function calcHeight() {\n      this.listHeight = [];\n      var list = this.$refs.listGroup;\n      var height = 0;\n      this.listHeight.push(height); //此处先存放第一个元素的高度 为0\n      for (var i = 0; i < list.length; i++) {\n        var item = list[i];\n        height += item.clientHeight;\n        this.listHeight.push(height);\n      }\n    },\n    selectItem: function selectItem(item) {\n      //派发事件\n      this.$emit('select', item);\n    }\n  },\n  components: {\n    Scroll: __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__[\"a\" /* default */],\n    Loading: __WEBPACK_IMPORTED_MODULE_1_base_loading_loading__[\"a\" /* default */]\n  },\n  watch: {\n    data: function data() {\n      var _this = this;\n\n      setTimeout(function () {\n        _this.calcHeight();\n      }, 20);\n    },\n\n    // 监听scrollY 获取currentIndex\n    scrollY: function scrollY(newY) {\n      var listHeight = this.listHeight;\n\n      // top 当页面滚动到顶部 newY > 0\n      if (newY > 0) {\n        this.currentIndex = 0;\n        return;\n      }\n\n      // middle 算区间值 找到对应的index     此处length - 1 是因为之前先push 了一个 height=0\n      for (var i = 0; i < listHeight.length - 1; i++) {\n        var height1 = listHeight[i];\n        var height2 = listHeight[i + 1];\n        // 向上滚动srcollY的值为负 所以加上负号\n        if (-newY >= height1 && -newY < height2) {\n          this.currentIndex = i;\n          this.diff = height2 + newY; //当前元素高度-滚动的值  newY为负值\n          //             console.log(this.diff)\n          // console.log(this.currentIndex)\n          return;\n        }\n      }\n\n      // bottom 当页面滚动到底部，且-newY大于最后一个元素的上限 length - 2 同上\n      this.currentIndex = listHeight.length - 2;\n    },\n    diff: function diff(newVal) {\n      var fixedTop = newVal > 0 && newVal < TITLE_HEIGHT ? newVal - TITLE_HEIGHT : 0;\n      if (this.fixedTop === fixedTop) {\n        return;\n      }\n      this.fixedTop = fixedTop;\n      //         console.log(this.fixedTop)\n      //fixedTop 偏移值\n      this.$refs.fixed.style.transform = 'translate3d(0, ' + fixedTop + 'px, 0)';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"h+qJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"B2YR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_api_singer__ = __webpack_require__(\"Sgn/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_api_config__ = __webpack_require__(\"T452\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_common_js_singer__ = __webpack_require__(\"0aAL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_base_listview_listview__ = __webpack_require__(\"sODj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vuex__ = __webpack_require__(\"E661\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_common_js_mixin__ = __webpack_require__(\"F4+m\");\n\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\nvar HOT_NAME = '热门';\nvar HOT_SINGER_LEN = 10;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_6_common_js_mixin__[\"b\" /* playlistMixin */]],\n  data: function data() {\n    return {\n      singer: []\n    };\n  },\n  created: function created() {\n    this._getSingerList();\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    handlePlaylist: function handlePlaylist(playlist) {\n      var bottom = playlist.length > 0 ? '60px' : '';\n      this.$refs.singer.style.bottom = bottom;\n      this.$refs.singerList.refresh();\n    },\n    selectSinger: function selectSinger(singer) {\n      //接受派发事件的传递\n      console.log(singer.id);\n\n      this.$router.push({\n        path: '/singer/' + singer.id\n      });\n      this.setSinger(singer);\n    },\n    _getSingerList: function _getSingerList() {\n      var _this = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1_api_singer__[\"b\" /* getSingerList */])().then(function (res) {\n        if (res.code === __WEBPACK_IMPORTED_MODULE_2_api_config__[\"a\" /* ERR_OK */]) {\n          _this.singer = _this._normalizeSinger(res.data.list); //此处调用处理好的数据\n          //              console.log(this._normalizeSinger(this.singer))\n        }\n      });\n    },\n    _normalizeSinger: function _normalizeSinger(list) {\n      var map = {\n        hot: {\n          title: HOT_NAME,\n          items: []\n        }\n      };\n      list.forEach(function (item, index) {\n        if (index < HOT_SINGER_LEN) {\n          map.hot.items.push(new __WEBPACK_IMPORTED_MODULE_3_common_js_singer__[\"a\" /* default */]({\n            id: item.Fsinger_mid,\n            name: item.Fsinger_name\n          }));\n        }\n        //当key ->(a,b,c)字母顺序 没有就push\n        // key 为歌手的姓 => 字母\n        var key = item.Findex;\n        if (!map[key]) {\n          map[key] = {\n            title: key,\n            items: []\n          };\n        }\n        map[key].items.push(new __WEBPACK_IMPORTED_MODULE_3_common_js_singer__[\"a\" /* default */]({\n          id: item.Fsinger_mid,\n          name: item.Fsinger_name\n        }));\n      });\n      //为了得到有序列表，如：热门->A->B这样的顺序,处理map\n      var hot = [];\n      var ret = [];\n      for (var key in map) {\n        var val = map[key];\n        if (/[a-zA-Z]/.test(val.title)) {\n          //当title包含字母\n          ret.push(val);\n        } else if (val.title === HOT_NAME) {\n          hot.push(val);\n        }\n      }\n\n      //进行排序又a-z\n      ret.sort(function (a, b) {\n        return a.title.charCodeAt(0) - b.title.charCodeAt(0);\n      });\n      return hot.concat(ret);\n      console.log(map);\n    }\n  }, Object(__WEBPACK_IMPORTED_MODULE_5_vuex__[\"d\" /* mapMutations */])({\n    setSinger: 'SET_SINGER'\n  })),\n  components: {\n    Listview: __WEBPACK_IMPORTED_MODULE_4_base_listview_listview__[\"a\" /* default */]\n  }\n});\n\n/***/ }),\n\n/***/ \"ijYt\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"xCkK\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".singer[data-v-4b8ff140]{position:fixed;top:88px;bottom:0;width:100%}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/components/singer/singer.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,UAAY,CACb\",\"file\":\"singer.vue\",\"sourcesContent\":[\"/*@import '~common/sass/variable.scss';getSingerList*/\\n.singer[data-v-4b8ff140] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"sODj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_listview_vue__ = __webpack_require__(\"edUg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_36e82cfb_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_listview_vue__ = __webpack_require__(\"uEKT\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"yyM9\")\n}\nvar normalizeComponent = __webpack_require__(\"Cut0\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36e82cfb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_listview_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_36e82cfb_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_listview_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"uEKT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"data\":_vm.data,\"listenScroll\":_vm.listenScroll,\"probeType\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.data),function(group){return _c('li',{ref:\"listGroup\",refInFor:true,staticClass:\"list-group\"},[_c('h2',{staticClass:\"list-group-title\"},[_vm._v(_vm._s(group.title))]),_vm._v(\" \"),_c('ul',_vm._l((group.items),function(item){return _c('li',{staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],staticClass:\"avatar\"}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}))])})),_vm._v(\" \"),_c('div',{staticClass:\"list-shortcut\",on:{\"touchstart\":_vm.onShortcutTouchStart,\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();_vm.onShortcutTouchMove($event)}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:item.key,staticClass:\"item\",class:{'current' : _vm.currentIndex === index},attrs:{\"data-index\":index}},[_vm._v(\"\\n        \"+_vm._s(item)+\"\\n      \")])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-container\"},[_c('loading')],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('h1',{staticClass:\"fixed-title\"},[_vm._v(\" \"+_vm._s(_vm.fixedTitle)+\" \")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"yyM9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"NsiM\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"MO7y\")(\"41ce3037\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.b9662939ef2ddff05bae.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b8ff140\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=styles&index=0!./singer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=script&index=0!./singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b8ff140\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=template&index=0!./singer.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b8ff140\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer/singer.vue\n// module id = 0IpB\n// module chunks = 4","exports = module.exports = require(\"../../../node_modules/._css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".listview[data-v-36e82cfb]{position:relative;width:100%;height:100%;overflow:hidden;background:#222}.listview .list-group[data-v-36e82cfb]{padding-bottom:30px}.listview .list-group .list-group-title[data-v-36e82cfb]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .list-group .list-group-item[data-v-36e82cfb]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:20px 0 0 30px}.listview .list-group .list-group-item .avatar[data-v-36e82cfb]{width:50px;height:50px;border-radius:50%}.listview .list-group .list-group-item .name[data-v-36e82cfb]{margin-left:20px;color:hsla(0,0%,100%,.5);font-size:14px}.listview .list-shortcut[data-v-36e82cfb]{position:absolute;z-index:30;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:20px;padding:20px 0;border-radius:10px;text-align:center;background:rgba(0,0,0,.3);font-family:Helvetica}.listview .list-shortcut .item[data-v-36e82cfb]{padding:3px;line-height:1;color:hsla(0,0%,100%,.5);font-size:12px}.listview .list-shortcut .item.current[data-v-36e82cfb]{color:#ffcd32}.listview .list-fixed[data-v-36e82cfb]{position:absolute;top:0;left:0;width:100%}.listview .list-fixed .fixed-title[data-v-36e82cfb]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .loading-container[data-v-36e82cfb]{position:absolute;width:100%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/base/listview/listview.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CAClB,AACD,uCACI,mBAAqB,CACxB,AACD,yDACM,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAAgC,AAChC,eAAiB,CACtB,AACD,wDACM,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,qBAAuB,CAC5B,AACD,gEACQ,WAAY,AACZ,YAAa,AACb,iBAAmB,CAC1B,AACD,8DACQ,iBAAkB,AAClB,yBAAgC,AAChC,cAAgB,CACvB,AACD,0CACI,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,QAAS,AACT,mCAAoC,AAC5B,2BAA4B,AACpC,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,0BAA+B,AAC/B,qBAAuB,CAC1B,AACD,gDACM,YAAa,AACb,cAAe,AACf,yBAAgC,AAChC,cAAgB,CACrB,AACD,wDACQ,aAAe,CACtB,AACD,uCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,UAAY,CACf,AACD,oDACM,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAAgC,AAChC,eAAiB,CACtB,AACD,8CACI,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,mCAAoC,AAC5B,0BAA4B,CACvC\",\"file\":\"listview.vue\",\"sourcesContent\":[\"\\n.listview[data-v-36e82cfb] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list-group[data-v-36e82cfb] {\\n    padding-bottom: 30px;\\n}\\n.listview .list-group .list-group-title[data-v-36e82cfb] {\\n      height: 30px;\\n      line-height: 30px;\\n      padding-left: 20px;\\n      font-size: 12px;\\n      color: rgba(255, 255, 255, 0.5);\\n      background: #333;\\n}\\n.listview .list-group .list-group-item[data-v-36e82cfb] {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-align: center;\\n          -ms-flex-align: center;\\n              align-items: center;\\n      padding: 20px 0 0 30px;\\n}\\n.listview .list-group .list-group-item .avatar[data-v-36e82cfb] {\\n        width: 50px;\\n        height: 50px;\\n        border-radius: 50%;\\n}\\n.listview .list-group .list-group-item .name[data-v-36e82cfb] {\\n        margin-left: 20px;\\n        color: rgba(255, 255, 255, 0.5);\\n        font-size: 14px;\\n}\\n.listview .list-shortcut[data-v-36e82cfb] {\\n    position: absolute;\\n    z-index: 30;\\n    right: 0;\\n    top: 50%;\\n    -webkit-transform: translateY(-50%);\\n            transform: translateY(-50%);\\n    width: 20px;\\n    padding: 20px 0;\\n    border-radius: 10px;\\n    text-align: center;\\n    background: rgba(0, 0, 0, 0.3);\\n    font-family: Helvetica;\\n}\\n.listview .list-shortcut .item[data-v-36e82cfb] {\\n      padding: 3px;\\n      line-height: 1;\\n      color: rgba(255, 255, 255, 0.5);\\n      font-size: 12px;\\n}\\n.listview .list-shortcut .item.current[data-v-36e82cfb] {\\n        color: #ffcd32;\\n}\\n.listview .list-fixed[data-v-36e82cfb] {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n}\\n.listview .list-fixed .fixed-title[data-v-36e82cfb] {\\n      height: 30px;\\n      line-height: 30px;\\n      padding-left: 20px;\\n      font-size: 12px;\\n      color: rgba(255, 255, 255, 0.5);\\n      background: #333;\\n}\\n.listview .loading-container[data-v-36e82cfb] {\\n    position: absolute;\\n    width: 100%;\\n    top: 50%;\\n    -webkit-transform: translateY(-50%);\\n            transform: translateY(-50%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-36e82cfb\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = NsiM\n// module chunks = 4","import jsonp from 'common/js/jsonp'\nimport { options } from './config'\n\nexport function getSingerList() {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\n\n  const data = Object.assign({}, {\n    channel: 'singer',\n    page: 'list',\n    key: 'all_all_all',\n    pagesize: 100,\n    pagenum: 1,\n    g_tk: 5381,\n    loginUin: 0,\n    hostUin: 0,\n    format: 'jsonp',\n    inCharset: 'utf8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'yqq',\n    needNewCode: 0\n  })\n\n  return jsonp(url, data, options)\n}\n\nexport function getSingerDetail(singerId) {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\n\n  const data = Object.assign({}, {\n    g_tk: 5381,\n    loginUin: 0,\n    hostUin: 0,\n    format: jsonp,\n    inCharset: 'utf8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'yqq',\n    needNewCode: 0,\n    singermid: singerId,\n    order: 'listen',\n    begin: 0,\n    num: 200,\n    songstatus: 1\n  })\n\n  return jsonp(url, data, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/._css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b8ff140\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./singer.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/._vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"6dd659fe\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._extract-text-webpack-plugin@3.0.1@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/._vue-style-loader@3.0.3@vue-style-loader!./node_modules/._css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4b8ff140\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/singer/singer.vue\n// module id = Y1w3\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singer\",staticClass:\"singer\"},[_c('listview',{ref:\"singerList\",attrs:{\"data\":_vm.singer},on:{\"select\":_vm.selectSinger}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-loader@13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-4b8ff140\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/singer/singer.vue\n// module id = bWzI\n// module chunks = 4","<template>\r\n  <scroll class=\"listview\" :data=\"data\" ref=\"listview\" :listenScroll=\"listenScroll\" :probeType=\"probeType\" @scroll=\"scroll\">\r\n    <ul>\r\n      <li v-for=\"group in data\" class=\"list-group\" ref=\"listGroup\">\r\n        <h2 class=\"list-group-title\">{{group.title}}</h2>\r\n        <ul>\r\n          <li @click=\"selectItem(item)\" v-for=\"item in group.items\" class=\"list-group-item\">\r\n            <img v-lazy=\"item.avatar\" class=\"avatar\">\r\n            <span class=\"name\">{{item.name}}</span>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n    <div class=\"list-shortcut\" @touchstart=\"onShortcutTouchStart\" @touchmove.stop.prevent=\"onShortcutTouchMove\">\r\n      <ul>\r\n        <li v-for=\"(item, index) in shortcutList\" class=\"item\"  :data-index=\"index\"\r\n            :key=\"item.key\"\r\n            :class=\"{'current' : currentIndex === index}\">\r\n          {{item}}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"loading-container\" v-show=\"!data.length\">\r\n      <loading></loading>\r\n    </div>\r\n    <div class=\"list-fixed\" v-show=\"fixedTitle\" ref=\"fixed\">\r\n      <h1 class=\"fixed-title\"> {{fixedTitle}} </h1>\r\n    </div>\r\n  </scroll>\r\n</template>\r\n\r\n<script>\r\n  import Scroll from 'base/scroll/scroll'\r\n  import Loading from 'base/loading/loading'\r\n  import {getData} from 'common/js/dom'\r\n  const ANCHOR_HEIGHT = 18\r\n  const TITLE_HEIGHT = 30\r\n  export default {\r\n    data() {\r\n      return {\r\n        scrollY: -1,\r\n        diff: -1,//title差值\r\n        currentIndex: 0\r\n      }\r\n    },\r\n    created() {\r\n      this.touch = {}\r\n      this.listenScroll = true\r\n      this.listHeight = []\r\n      this.probeType = 3\r\n    },\r\n    props: {\r\n      data: {\r\n        type: Array,\r\n        default: []\r\n      }\r\n    },\r\n    computed: {\r\n      shortcutList() {\r\n          return this.data.map((group) => {\r\n              //截取热门 ->热\r\n              return group.title.substr(0, 1)\r\n          })\r\n      },\r\n      fixedTitle() {\r\n        if (this.scrollY > 0) return\r\n        return this.data[this.currentIndex] ? this.data[this.currentIndex].title : ''\r\n      }\r\n    },\r\n    methods: {\r\n      refresh() {\r\n        this.$refs.listview.refresh()\r\n      },\r\n      onShortcutTouchStart(e) {\r\n        // 获取当前触摸的index getData为封装好的方法\r\n        let anchorIndex = getData(e.target, 'index')\r\n        let firstTouch = e.touches[0]//第一次触摸屏幕\r\n        this.touch.y1 = firstTouch.pageY\r\n        this.touch.anchorIndex = anchorIndex\r\n        this._scrollTo(anchorIndex)\r\n      },\r\n      onShortcutTouchMove(e) {\r\n        let firstTouch = e.touches[0]\r\n        this.touch.y2 = firstTouch.pageY\r\n        // 向下取整\r\n        let delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0//求出偏移差\r\n        // 获取移动的距离\r\n        let anchorIndex = parseInt(this.touch.anchorIndex) + delta\r\n        this._scrollTo(anchorIndex)\r\n      },\r\n      // 监听scroll组件派发的scroll事件 获取滚动时的pos值\r\n      scroll(pos) {\r\n        this.scrollY = pos.y\r\n//        console.log(this.scrollY)\r\n      },\r\n      _scrollTo(index) {\r\n\r\n        if (!index && index !== 0) {  //去除上下的2个空白区域\r\n          return\r\n        }\r\n        // 判断index上下限\r\n        if (index < 0) {\r\n          index = 0\r\n        } else if (index > this.listHeight.length - 2) {\r\n          index = this.listHeight.length - 2\r\n        }\r\n        this.scrollY = -this.listHeight[index]\r\n        this.$refs.listview.scrollToElement(this.$refs.listGroup[index], 0)//第二个参数0 是动画时间\r\n      },\r\n      // 计算每一个singer list的height\r\n      calcHeight() {\r\n       this.listHeight = []\r\n       const list = this.$refs.listGroup\r\n       let height = 0\r\n       this.listHeight.push(height)//此处先存放第一个元素的高度 为0\r\n        for (let i = 0; i < list.length; i++) {\r\n          let item = list[i]\r\n          height += item.clientHeight\r\n          this.listHeight.push(height)\r\n        }\r\n      },\r\n      selectItem(item) {//派发事件\r\n        this.$emit('select', item)\r\n      }\r\n    },\r\n    components:{\r\n      Scroll,\r\n      Loading\r\n    },\r\n    watch: {\r\n      data() {\r\n        setTimeout(() => {\r\n          this.calcHeight()\r\n        }, 20)\r\n      },\r\n      // 监听scrollY 获取currentIndex\r\n      scrollY(newY) {\r\n        const listHeight = this.listHeight\r\n\r\n        // top 当页面滚动到顶部 newY > 0\r\n        if (newY > 0) {\r\n          this.currentIndex = 0\r\n          return\r\n        }\r\n\r\n        // middle 算区间值 找到对应的index     此处length - 1 是因为之前先push 了一个 height=0\r\n        for (let i = 0; i < listHeight.length - 1; i++) {\r\n          let height1 = listHeight[i]\r\n          let height2 = listHeight[i + 1]\r\n          // 向上滚动srcollY的值为负 所以加上负号\r\n          if (-newY >= height1 && -newY < height2) {\r\n            this.currentIndex = i\r\n            this.diff = height2 + newY //当前元素高度-滚动的值  newY为负值\r\n//             console.log(this.diff)\r\n            // console.log(this.currentIndex)\r\n            return\r\n          }\r\n        }\r\n\r\n        // bottom 当页面滚动到底部，且-newY大于最后一个元素的上限 length - 2 同上\r\n        this.currentIndex = listHeight.length - 2\r\n      },\r\n      diff(newVal) {\r\n        let fixedTop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0\r\n        if (this.fixedTop === fixedTop) {\r\n          return\r\n        }\r\n        this.fixedTop = fixedTop\r\n//         console.log(this.fixedTop)\r\n        //fixedTop 偏移值\r\n        this.$refs.fixed.style.transform = `translate3d(0, ${fixedTop}px, 0)`\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\" rel=\"stylesheet/scss\">\r\n  @import \"~common/sass/variable.scss\";\r\n\r\n  .listview {\r\n    position: relative;\r\n    width:100%;\r\n    height:100%;\r\n    overflow: hidden;\r\n    background: $color-background;\r\n    .list-group {\r\n      padding-bottom:30px;\r\n      .list-group-title {\r\n        height: 30px;\r\n        line-height: 30px;\r\n        padding-left: 20px;\r\n        font-size: $font-size-small;\r\n        color:$color-text-l;\r\n        background: $color-highlight-background;\r\n      }\r\n      .list-group-item{\r\n        display: flex;\r\n        align-items: center;\r\n        padding:20px 0 0 30px;\r\n        .avatar {\r\n          width:50px;\r\n          height:50px;\r\n          border-radius:50%;\r\n        }\r\n        .name{\r\n          margin-left:20px;\r\n          color:$color-text-l;\r\n          font-size: $font-size-medium;\r\n        }\r\n      }\r\n    }\r\n    .list-shortcut{\r\n      position: absolute;\r\n      z-index: 30;\r\n      right:0;\r\n      top:50%;\r\n      transform: translateY(-50%);\r\n      width:20px;\r\n      padding:20px 0;\r\n      border-radius:10px;\r\n      text-align: center;\r\n      background: $color-background-d;\r\n      font-family:Helvetica;\r\n      .item{\r\n        padding: 3px;\r\n        line-height: 1;\r\n        color: $color-text-l;\r\n        font-size: $font-size-small;\r\n        &.current{\r\n           color: $color-theme;\r\n         }\r\n      }\r\n    }\r\n    .list-fixed{\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      .fixed-title{\r\n        height: 30px;\r\n        line-height: 30px;\r\n        padding-left: 20px;\r\n        font-size: $font-size-small;\r\n        color: $color-text-l;\r\n        background: $color-highlight-background;\r\n      }\r\n    }\r\n    .loading-container{\r\n      position: absolute;\r\n      width: 100%;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/listview/listview.vue","<template>\r\n  <div class=\"singer\" ref=\"singer\">\r\n    <listview @select=\"selectSinger\" :data=\"singer\"  ref=\"singerList\"></listview>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getSingerList} from 'api/singer'\r\n  import {ERR_OK} from 'api/config'\r\n  import Singer from 'common/js/singer'\r\n  import Listview from 'base/listview/listview'\r\n  import {mapMutations} from 'vuex'\r\n  import {playlistMixin} from 'common/js/mixin'\r\n\r\n  const HOT_NAME = '热门'\r\n  const HOT_SINGER_LEN = 10\r\n\r\n  export default {\r\n    mixins: [playlistMixin],\r\n    data() {\r\n      return {\r\n        singer:[]\r\n      }\r\n    },\r\n    created() {\r\n        this._getSingerList()\r\n    },\r\n    methods: {\r\n        handlePlaylist(playlist) {\r\n          const bottom = playlist.length > 0 ? '60px' : ''\r\n          this.$refs.singer.style.bottom = bottom\r\n          this.$refs.singerList.refresh()\r\n        },\r\n        selectSinger(singer){//接受派发事件的传递\r\n        console.log(singer.id)\r\n\r\n          this.$router.push({\r\n            path:`/singer/${singer.id}`\r\n          })\r\n          this.setSinger(singer)\r\n        },\r\n        _getSingerList() {\r\n          getSingerList().then((res) => {\r\n            if (res.code === ERR_OK) {\r\n              this.singer = this._normalizeSinger(res.data.list);//此处调用处理好的数据\r\n//              console.log(this._normalizeSinger(this.singer))\r\n            }\r\n          })\r\n        },\r\n        _normalizeSinger(list) {\r\n          let map = {\r\n            hot: {\r\n              title: HOT_NAME,\r\n              items: []\r\n            }\r\n          }\r\n          list.forEach((item,index) => {\r\n            if (index < HOT_SINGER_LEN) {\r\n                map.hot.items.push(new Singer({\r\n                  id: item.Fsinger_mid,\r\n                  name: item.Fsinger_name\r\n                }))\r\n            }\r\n            //当key ->(a,b,c)字母顺序 没有就push\r\n            // key 为歌手的姓 => 字母\r\n            const key = item.Findex\r\n            if(!map[key]) {\r\n                map[key] = {\r\n                    title :key,\r\n                    items: []\r\n                }\r\n            }\r\n            map[key].items.push(new Singer({\r\n              id: item.Fsinger_mid,\r\n              name: item.Fsinger_name\r\n            }))\r\n        })\r\n          //为了得到有序列表，如：热门->A->B这样的顺序,处理map\r\n        let hot = []\r\n        let ret = []\r\n        for(let key in map) {\r\n          let val =map[key]\r\n          if(/[a-zA-Z]/.test(val.title)) {//当title包含字母\r\n            ret.push(val)\r\n          }else if(val.title === HOT_NAME) {\r\n            hot.push(val)\r\n          }\r\n        }\r\n\r\n        //进行排序又a-z\r\n        ret.sort((a, b) => {\r\n          return a.title.charCodeAt(0) - b.title.charCodeAt(0)\r\n        })\r\n        return hot.concat(ret)\r\n        console.log(map)\r\n      },\r\n\r\n        //映射 mutation-types 的常量SET_SINGER\r\n        ...mapMutations({\r\n          setSinger:'SET_SINGER'\r\n        })\r\n    },\r\n    components: {\r\n      Listview\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\" rel=\"stylesheet/scss\">\r\n  /*@import '~common/sass/variable.scss';getSingerList*/\r\n  .singer{\r\n    position:fixed;\r\n    top:88px;\r\n    bottom:0;\r\n    width: 100%;\r\n  }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/singer/singer.vue","exports = module.exports = require(\"../../../node_modules/._css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".singer[data-v-4b8ff140]{position:fixed;top:88px;bottom:0;width:100%}\", \"\", {\"version\":3,\"sources\":[\"F:/2017学习集合/vue-music/src/components/singer/singer.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,UAAY,CACb\",\"file\":\"singer.vue\",\"sourcesContent\":[\"/*@import '~common/sass/variable.scss';getSingerList*/\\n.singer[data-v-4b8ff140] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4b8ff140\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/singer/singer.vue\n// module id = ijYt\n// module chunks = 4","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36e82cfb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=styles&index=0!./listview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=script&index=0!./listview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36e82cfb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector?type=template&index=0!./listview.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36e82cfb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/listview/listview.vue\n// module id = sODj\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"data\":_vm.data,\"listenScroll\":_vm.listenScroll,\"probeType\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.data),function(group){return _c('li',{ref:\"listGroup\",refInFor:true,staticClass:\"list-group\"},[_c('h2',{staticClass:\"list-group-title\"},[_vm._v(_vm._s(group.title))]),_vm._v(\" \"),_c('ul',_vm._l((group.items),function(item){return _c('li',{staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],staticClass:\"avatar\"}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}))])})),_vm._v(\" \"),_c('div',{staticClass:\"list-shortcut\",on:{\"touchstart\":_vm.onShortcutTouchStart,\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();_vm.onShortcutTouchMove($event)}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:item.key,staticClass:\"item\",class:{'current' : _vm.currentIndex === index},attrs:{\"data-index\":index}},[_vm._v(\"\\n        \"+_vm._s(item)+\"\\n      \")])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-container\"},[_c('loading')],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('h1',{staticClass:\"fixed-title\"},[_vm._v(\" \"+_vm._s(_vm.fixedTitle)+\" \")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-loader@13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-36e82cfb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/base/listview/listview.vue\n// module id = uEKT\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/._css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36e82cfb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./listview.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/._vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"41ce3037\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._extract-text-webpack-plugin@3.0.1@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/._vue-style-loader@3.0.3@vue-style-loader!./node_modules/._css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-36e82cfb\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/._sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/._vue-loader@13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = yyM9\n// module chunks = 4"],"sourceRoot":""}